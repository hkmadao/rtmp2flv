{"version":3,"sources":["camera/CopyAlert.js","conf/env.js","api/index.js","api/Api.js","camera/play.js","camera/cameraEdit.js","camera/actionList.js","camera/cameraList.js","login/SignInSide.js","404/NoMatch.js","camera/Live.js","route/Routing.js","Rtmp2flv.js","index.js"],"names":["useStyles","makeStyles","theme","root","width","CopyAlert","props","classes","React","useState","open","setOpen","dialog","title","content","useImperativeHandle","onRef","handleClickOpen","handleClose","className","Dialog","onClose","aria-labelledby","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Button","onClick","color","serverURL","window","location","origin","axios","defaults","withCredentials","timeout","interceptors","request","use","config","token","localStorage","getItem","headers","err","console","error","Promise","reject","response","data","errcode","parseInt","hash","isCancel","log","status","setItem","alert","String","toLowerCase","substring","Env","POST","url","params","post","then","res","API","get","appBar","position","marginLeft","spacing","flex","videoContainer","margin","Transition","forwardRef","ref","Slide","direction","Play","player","flv_load_mds","mediaDataSource","element","document","getElementsByClassName","unload","detachMediaElement","destroy","Flv","createPlayer","enableWorker","lazyLoadMaxDuration","seekType","attachMediaElement","load","play","fullScreen","TransitionComponent","AppBar","Toolbar","variant","val","type","videoUrl","row","code","playAuthCode","Typography","autoFocus","name","controls","allow","formClass","formDiv","enabled","setEnabled","rtmpAuthCode","onlineStatus","alertShow","setAlertShow","alertText","setAlertText","save","callBack","msg","setTimeout","formChange","event","target","value","Alert","severity","AlertTitle","noValidate","autoComplete","onSubmit","TextField","label","InputProps","readOnly","defaultValue","onChange","Switch","checked","inputProps","dropdown","top","right","left","zIndex","border","padding","backgroundColor","ActionList","dialogObj","playRef","createRef","editRef","copyRef","ClickAwayListener","onClickAway","prev","List","component","aria-label","ListItem","button","ListItemText","primary","current","sURL","pathname","Copy","columns","minWidth","format","container","minHeight","CameraList","rows","setRows","page","setPage","rowsPerPage","setRowsPerPage","getPageList","splice","push","useEffect","Paper","TableContainer","Table","stickyHeader","TableHead","TableRow","map","column","TableCell","align","style","TableBody","slice","hover","role","tabIndex","TablePagination","rowsPerPageOptions","count","length","onChangePage","newPage","onChangeRowsPerPage","Copyright","href","Date","getFullYear","height","image","backgroundImage","backgroundRepeat","palette","grey","backgroundSize","backgroundPosition","paper","display","flexDirection","alignItems","avatar","secondary","main","form","marginTop","submit","SignInSide","userName","password","user","Grid","CssBaseline","item","xs","sm","md","elevation","square","Avatar","required","fullWidth","FormControlLabel","control","Checkbox","Box","mt","Component","getQueryString","reg","RegExp","r","substr","match","decodeURIComponent","method","authCode","Routing","exact","path","Live","NoMatch","memo","Rtmp2flv","App","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.ef3b80b6.chunk.js","sourcesContent":["import React, { useImperativeHandle }  from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n}));\r\n\r\nexport default function CopyAlert(props) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [title, setTitle] = React.useState(props.dialog.title);\r\n  const [content, setContent] = React.useState(props.dialog.content);\r\n\r\n  //用useImperativeHandle暴露一些外部ref能访问的属性\r\n  useImperativeHandle(props.onRef, () => {\r\n    return {\r\n      handleClickOpen: handleClickOpen,\r\n    };\r\n  });\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            {content}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","let env = process.env.NODE_ENV\r\nlet serverURL\r\n \r\nif (env === 'development') {\r\n    serverURL = \"http://127.0.0.1:9090\"\r\n} else if (env === 'production') {\r\n    serverURL = window.location.origin\r\n}\r\n\r\nexport default {serverURL:serverURL}","import Env from '../conf/env';\r\nimport axios from 'axios'\r\n\r\n\r\naxios.defaults.withCredentials = false;\r\n\r\naxios.defaults.timeout = 10000;\r\n\r\naxios.interceptors.request.use(config => {\r\n  let token = window.localStorage.getItem(\"token\")\r\n  config.headers.token = token\r\n  return config;\r\n}, err => {\r\n  console.error(err);\r\n  return Promise.reject(err);\r\n});\r\n\r\naxios.interceptors.response.use(function (response) {\r\n  if (response.data && response.data.errcode) {\r\n    if (parseInt(response.data.errcode) === 401) {\r\n      //nologin\r\n      window.location.hash = \"#/login\"\r\n    }\r\n  }\r\n  return response;\r\n}, function (error) {\r\n  if (axios.isCancel()) {\r\n    return Promise.reject(error);\r\n  } else {\r\n    if (error.response) {\r\n      console.log(error.response.status === 401)\r\n      if (error.response.status === 401) {\r\n        if (!window.localStorage.getItem(\"token\") || !window.localStorage.getItem(\"tokenExpired\") || window.localStorage.getItem(\"tokenExpired\") === \"false\") { \r\n          window.localStorage.setItem(\"tokenExpired\", \"true\");\r\n          window.location.hash = \"#/login\"\r\n        }\r\n      } else if (error.response.status === 500) {\r\n        alert(\"server exception !\")\r\n      }\r\n    } else if (error && String(error).toLowerCase().substring(0, 14) === \"error: timeout\") {\r\n      alert(\"server timeout !\")\r\n    }else{\r\n      alert(\"server error !\")\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n});\r\n\r\nlet serverURL = Env.serverURL;\r\n\r\nexport const POST = (url, params) => {\r\n  return axios.post(`${serverURL}${url}`, params).then(res => res.data)\r\n}\r\nexport const GET = (url, params) => {\r\n  return axios.get(`${serverURL}${url}`, {\r\n    params: params\r\n  }).then(res => res.data)\r\n}\r\n\r\nexport const PUT = (url, params) => {\r\n  return axios.put(`${serverURL}${url}`, params).then(res => res.data)\r\n}\r\n\r\nexport const DELETE = (url, params) => {\r\n  return axios.delete(`${serverURL}${url}`, {\r\n    params: params\r\n  }).then(res => res.data)\r\n}\r\n\r\nexport const PATCH = (url, params) => {\r\n  return axios.patch(`${serverURL}${url}`, params).then(res => res.data)\r\n}\r\n"," import Env from '../conf/env';\r\n import * as API from './'\r\n \r\n let serverURL = Env.serverURL;\r\n export default {\r\n    flvURL: `${serverURL}`,\r\n    login: (params) => {\r\n        return API.POST(`/system/login`,params)\r\n    },\r\n    cameraList: (params) => {\r\n        return API.GET(`/camera/list`,params)\r\n    },\r\n    cameraEdit: (params) => {\r\n        return API.POST(`/camera/edit`,params)\r\n    },\r\n    cameraDelete: (params) => {\r\n        return API.POST(`/camera/delete/${params.id}`,params)\r\n    },\r\n \r\n }\r\n ","import React, { useImperativeHandle } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Flv from 'flv.js';\r\nimport API from '../api/Api';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n  videoContainer: {\r\n    width: '90%',\r\n    margin: '0 auto'\r\n  },\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function Play(props) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  var player = null;\r\n\r\n  //用useImperativeHandle暴露一些外部ref能访问的属性\r\n  useImperativeHandle(props.onRef, () => {\r\n    return {\r\n      handleClickOpen: handleClickOpen,\r\n    };\r\n  });\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const flv_load = (val) => {\r\n      var mediaDataSource = {\r\n          type: 'flv'\r\n      };\r\n      let videoUrl = API.flvURL+\"/live/permanent/\"+props.row.code+\"/\"+props.row.playAuthCode+\".flv\";\r\n      mediaDataSource['url'] = videoUrl;\r\n      mediaDataSource['hasAudio'] = false;\r\n      mediaDataSource['isLive'] = true;\r\n      console.log('MediaDataSource', mediaDataSource);\r\n      flv_load_mds(mediaDataSource);\r\n  }\r\n\r\n  const flv_load_mds = (mediaDataSource) => {\r\n      var element = document.getElementsByClassName('centeredVideo')[0];\r\n    \r\n      if (typeof player !== \"undefined\") {\r\n          if (player != null) {\r\n              player.unload();\r\n              player.detachMediaElement();\r\n              player.destroy();\r\n              player = null;\r\n          }\r\n      }\r\n      \r\n      player = Flv.createPlayer(mediaDataSource, {\r\n          enableWorker: false,\r\n          lazyLoadMaxDuration: 3 * 60,\r\n          seekType: 'range',\r\n      });\r\n      player.attachMediaElement(element);\r\n      player.load();\r\n      player.play()\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <Button variant=\"contained\" onClick={flv_load}>\r\n              play\r\n            </Button>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              \r\n            </Typography>\r\n            <Button autoFocus color=\"inherit\" onClick={handleClose}>\r\n              <CloseIcon />\r\n            </Button>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <div className={classes.videoContainer}>\r\n            <div>\r\n                <video name=\"videoElement\" className=\"centeredVideo\" controls allow=\"autoPlay\" width=\"100%\" >\r\n                    Your browser is too old which doesn't support HTML5 video.\r\n                </video>\r\n            </div>\r\n        </div>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useImperativeHandle } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Alert, AlertTitle } from '@material-ui/lab';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport API from '../api/Api';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n  formClass: {\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  },\r\n  formDiv: {\r\n    margin: '0 auto',\r\n  },\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function Play(props) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [enabled, setEnabled] = React.useState(props.row.enabled === 1?true:false);\r\n  const [row, setRow] = React.useState({\r\n    id: props.row.id,\r\n    code: props.row.code,\r\n    rtmpAuthCode: props.row.rtmpAuthCode,\r\n    playAuthCode: props.row.playAuthCode,\r\n    onlineStatus: props.row.onlineStatus,\r\n    enabled: props.row.enabled,\r\n  });\r\n  const [alertShow, setAlertShow] = React.useState(false);\r\n  const [alertText, setAlertText] = React.useState(\"\");\r\n\r\n  //用useImperativeHandle暴露一些外部ref能访问的属性\r\n  useImperativeHandle(props.onRef, () => {\r\n    return {\r\n      handleClickOpen: handleClickOpen,\r\n    };\r\n  });\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const save = (data) => {\r\n    API.cameraEdit(row)\r\n    .then(res => {\r\n      if (res.code === 1) {\r\n        setOpen(false);\r\n        if (props.callBack){\r\n          props.callBack()\r\n        }\r\n        return;\r\n      }\r\n      setAlertText(res.msg);\r\n      setAlertShow(true);\r\n      window.setTimeout(function (){\r\n        setAlertShow(false);\r\n      },5000)\r\n    });\r\n  };\r\n\r\n  const deleteCamera = (data) => {\r\n    API.cameraDelete(row)\r\n    .then(res => {\r\n      if (res.code === 1) {\r\n        setOpen(false);\r\n        if (props.callBack){\r\n          props.callBack()\r\n        }\r\n        return;\r\n      }\r\n      setAlertText(res.msg);\r\n      setAlertShow(true);\r\n      window.setTimeout(function (){\r\n        setAlertShow(false);\r\n      },5000)\r\n    });\r\n  };\r\n\r\n  const formChange = (event) => {\r\n    row[event.target.id] = event.target.value\r\n  }\r\n\r\n  const switchChange = (event) => {\r\n    console.log(event.target.checked)\r\n    row[event.target.id] = event.target.checked?1:0\r\n    if(event.target.id===\"enabled\"){\r\n      setEnabled(event.target.checked)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <Button variant=\"contained\" onClick={save}>\r\n              save\r\n            </Button>\r\n            <span>&nbsp;&nbsp;</span>\r\n            {props.type === 'edit'?\r\n              <Button variant=\"contained\" onClick={deleteCamera}>\r\n                delete\r\n              </Button>:\"\"\r\n            }       \r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              \r\n            </Typography>\r\n            <Button autoFocus color=\"inherit\" onClick={handleClose}>\r\n              <CloseIcon />\r\n            </Button>\r\n          </Toolbar>\r\n        </AppBar>{\r\n          alertShow?\r\n          <Alert severity=\"error\">\r\n            <AlertTitle>Error</AlertTitle>\r\n            {alertText} <strong>check it out!</strong>\r\n          </Alert>:\"\"\r\n        }\r\n        \r\n        <div className={classes.formDiv}>\r\n          <form className={classes.formClass} noValidate autoComplete=\"off\" onSubmit={save}>\r\n            {props.type === 'edit'?\r\n            <div>\r\n            <TextField \r\n              id=\"id\"\r\n              label=\"id\" \r\n              InputProps={{\r\n                readOnly: true,\r\n              }} \r\n              defaultValue={row.id}\r\n            />\r\n            </div>:\"\"}\r\n            <div>\r\n              <TextField \r\n                id=\"code\" \r\n                label=\"code\" \r\n                defaultValue={row.code}\r\n                onChange={formChange}\r\n              />\r\n            </div>\r\n            <div>\r\n              <TextField \r\n                id=\"rtmpAuthCode\" \r\n                label=\"rtmpAuthCode\" \r\n                defaultValue={row.rtmpAuthCode}\r\n                onChange={formChange}\r\n              />\r\n            </div>\r\n            {/* <div>\r\n              <TextField \r\n                id=\"authCodeTemp\" \r\n                label=\"authCodeTemp\" \r\n                defaultValue={row.authCodeTemp}\r\n                onChange={formChange}\r\n              />\r\n            </div>\r\n            <div>\r\n              <TextField \r\n                id=\"authCodePermanent\" \r\n                label=\"authCodePermanent\" \r\n                defaultValue={row.authCodePermanent}\r\n                onChange={formChange}\r\n              />\r\n            </div> */}\r\n            <div>\r\n              {/* <TextField \r\n                id=\"enabled\"\r\n                label=\"enabled\" \r\n                defaultValue={row.enabled}\r\n                onChange={formChange}\r\n              /> */}\r\n              <Switch\r\n                checked={enabled}\r\n                id=\"enabled\"\r\n                onChange={switchChange}\r\n                color=\"primary\"\r\n                name=\"enabled\"\r\n                inputProps={{ 'aria-label': 'primary checkbox' }}\r\n              />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListIcon from '@material-ui/icons/List';\r\nimport Copy from 'copy-to-clipboard';\r\nimport CopyAlert from './CopyAlert'\r\nimport Play from './play';\r\nimport CameraEdit from './cameraEdit';\r\nimport API from '../api/Api';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    position: 'relative',\r\n  }, \r\n  dropdown: {\r\n    position: 'absolute',\r\n    top: 28,\r\n    right: 0,\r\n    left: 0, \r\n    zIndex: 999,\r\n    border: '0px solid',\r\n    padding: 1,\r\n    backgroundColor: '#f8f8f8',\r\n  },\r\n}));\r\n\r\nexport default function ActionList(props) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [dialogObj, setDialogObj] = React.useState({title:\"Success\",content:\"copy success !\"});\r\n\r\n  const handleClick = () => {\r\n    setOpen((prev) => !prev);\r\n  };\r\n\r\n  const handleClickAway = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  let playRef = React.createRef();\r\n  function play() {\r\n    setOpen(false);\r\n    playRef.current.handleClickOpen();\r\n  }\r\n\r\n  let editRef = React.createRef();\r\n  function edit() {\r\n    setOpen(false);\r\n    editRef.current.handleClickOpen();\r\n  }\r\n\r\n  let copyRef = React.createRef();\r\n  function share() {\r\n    setOpen(false);\r\n    let sURL = window.location.origin+window.location.pathname+\"#/live?method=permanent&code=\"+props.row.code+\"&authCode=\"+props.row.playAuthCode\r\n    Copy(sURL);\r\n    copyRef.current.handleClickOpen();\r\n  }\r\n\r\n  return (\r\n    <ClickAwayListener onClickAway={handleClickAway}>\r\n      <div className={classes.root}>\r\n        <button type=\"button\" onClick={handleClick}>\r\n          <ListIcon />\r\n        </button>\r\n        {open ? (\r\n          <div className={classes.dropdown}>\r\n            <List component=\"nav\" aria-label=\"secondary mailbox folders\">\r\n              <ListItem button>\r\n                <ListItemText primary=\"edit\" onClick={edit}/>\r\n              </ListItem>\r\n              <ListItem button onClick={play}>\r\n                <ListItemText primary=\"play\" />\r\n              </ListItem>\r\n              <ListItem button onClick={share}>\r\n                <ListItemText primary=\"share\" />\r\n              </ListItem>\r\n            </List>\r\n          </div>\r\n        ) : null}\r\n        <Play row={props.row} onRef={playRef}/>\r\n        <CameraEdit row={props.row} type=\"edit\" callBack={props.callBack} onRef={editRef}/>\r\n        <CopyAlert dialog={dialogObj} onRef={copyRef}/>\r\n      </div>\r\n    </ClickAwayListener>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport LinkOffIcon from '@material-ui/icons/LinkOff';\r\nimport LinkIcon from '@material-ui/icons/Link';\r\nimport ActionList from './actionList';\r\nimport CameraEdit from './cameraEdit';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport API from '../api/Api';\r\n\r\nconst columns = [\r\n  { \r\n    id: 'id',\r\n    label: 'id',\r\n    minWidth: 170\r\n  },\r\n  { \r\n    id: 'code', \r\n    label: 'code', \r\n    minWidth: 100 \r\n  },\r\n  {\r\n    id: 'rtmpAuthCode',\r\n    label: 'rtmpAuthCode',\r\n  },\r\n  {\r\n    id: 'playAuthCode',\r\n    label: 'playAuthCode',\r\n  },\r\n  {\r\n    id: 'onlineStatus',\r\n    label: 'onlineStatus',\r\n    format: (value) => value && value === 1?<LinkIcon/>:<LinkOffIcon/>,\r\n  },\r\n  {\r\n    id: 'enabled',\r\n    label: 'enabled',\r\n  },\r\n  {\r\n    id: 'action',\r\n    label: 'action',\r\n    format: (value,row,callBack) => {return <ActionList row={row} callBack={callBack} />},\r\n  },\r\n];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    position: 'relative',\r\n  },\r\n  container: {\r\n    minHeight: 400,\r\n  },\r\n  dropdown: {\r\n    position: 'absolute',\r\n    top: 28,\r\n    right: 0,\r\n    left: 0,\r\n    zIndex: 0,\r\n    border: '0px solid',\r\n    padding: 1,\r\n    backgroundColor: '#f8f8f8',\r\n  },\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n}));\r\n\r\nexport default function CameraList() {\r\n  const classes = useStyles();\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n  var rows,setRows;\r\n  [rows, setRows] = React.useState([]);\r\n  var editRow = {\r\n    id: \"\",\r\n    code: \"\",\r\n    rtmpAuthCode: \"\",\r\n    playAuthCode: \"\",\r\n    onlineStatus: 0,\r\n    enabled: 1,\r\n  }\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(+event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  const getPageList = ()=>{\r\n    API.cameraList()\r\n    .then(res => {\r\n      if (res.code === 1) {\r\n        rows.splice(0);\r\n        rows.push(...res.data.page)\r\n        setRows([])\r\n        setRows(rows)\r\n      }\r\n    });\r\n  }\r\n\r\n  let editRef = React.createRef();\r\n  function edit() {\r\n    editRef.current.handleClickOpen();\r\n  }\r\n\r\n  React.useEffect(getPageList,[]) \r\n\r\n  return (\r\n    \r\n    <Paper className={classes.root}>\r\n      <AppBar className={classes.appBar}>\r\n        <Toolbar>\r\n          <Button variant=\"contained\" onClick={edit}>\r\n            ADD\r\n          </Button>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            \r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <CameraEdit row={editRow} type=\"add\" callBack={getPageList} onRef={editRef}/>\r\n      <TableContainer className={classes.container}>\r\n        <Table stickyHeader aria-label=\"sticky table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              {columns.map((column) => (\r\n                <TableCell\r\n                  key={column.id}\r\n                  align={column.align}\r\n                  style={{ minWidth: column.minWidth }}\r\n                >\r\n                  {column.label}\r\n                </TableCell>\r\n              ))}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\r\n              return (\r\n                <TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\r\n                  {columns.map((column) => {\r\n                    const value = row[column.id];\r\n                    return (\r\n                      <TableCell key={column.id} align={column.align}>\r\n                        {column.format ? column.format(value,row,getPageList) : value}\r\n                      </TableCell>\r\n                    );\r\n                  })}\r\n                </TableRow>\r\n              );\r\n            })}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <TablePagination\r\n        rowsPerPageOptions={[10, 25, 100]}\r\n        component=\"div\"\r\n        count={rows.length}\r\n        rowsPerPage={rowsPerPage}\r\n        page={page}\r\n        onChangePage={handleChangePage}\r\n        onChangeRowsPerPage={handleChangeRowsPerPage}\r\n      />\r\n    </Paper>\r\n  );\r\n}\r\n","import React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport API from '../api/Api';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Your Website\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n  },\n  image: {\n    backgroundImage: 'url(https://source.unsplash.com/random)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignInSide() {\n  const classes = useStyles();\n  const [user, setUser] = React.useState({userName:\"\",password:\"\"});\n  const [alertShow, setAlertShow] = React.useState(false);\n  const [alertText, setAlertText] = React.useState(\"\");\n\n  const login = (event) => {\n    API.login(user)\n    .then(res => {\n      if (res.code === 1) {\n        let localStorage = window.localStorage\n        localStorage.setItem(\"token\",res.data.token)\n        localStorage.setItem(\"tokenExpired\", \"false\");\n        window.location.hash = \"#/\" \n        return;\n      }\n      setAlertText(res.msg);\n      setAlertShow(true);\n    });\n  }\n\n  const formChange = (event) => {\n    user[event.target.id] = event.target.value\n  }\n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          {\n          alertShow?\n          <Alert severity=\"error\">\n            <AlertTitle>Error</AlertTitle>\n            {alertText} <strong>check it out!</strong>\n          </Alert>:\"\"\n        }\n          <form className={classes.form} noValidate>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"userName\"\n              label=\"UserName\"\n              name=\"userName\"\n              autoComplete=\"userName\"\n              autoFocus\n              onChange={formChange}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onChange={formChange}\n            />\n            <FormControlLabel\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\n              label=\"Remember me\"\n            />\n            <Button\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick={login}\n            >\n              Sign In\n            </Button>\n            <Grid container>\n              <Grid item xs>\n                <Link href=\"#\" variant=\"body2\">\n                  Forgot password?\n                </Link>\n              </Grid>\n              <Grid item>\n                <Link href=\"#\" variant=\"body2\">\n                  {\"Don't have an account? Sign Up\"}\n                </Link>\n              </Grid>\n            </Grid>\n            <Box mt={5}>\n              <Copyright />\n            </Box>\n          </form>\n        </div>\n      </Grid>\n    </Grid>\n  );\n}\n","import React from 'react';\r\n\r\nexport default class error extends React.Component{\r\n    render(){\r\n        return(\r\n            <h2>404</h2>\r\n        );\r\n    }\r\n}","import React, { useImperativeHandle } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Flv from 'flv.js';\r\nimport API from '../api/Api';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n  videoContainer: {\r\n    width: '90%',\r\n    margin: '0 auto'\r\n  },\r\n}));\r\n\r\nexport default function Play(props) {\r\n  const classes = useStyles();\r\n  var player = null;\r\n\r\n  const getQueryString = (name) => {\r\n    let reg = new RegExp(\"(^|&|\\\\?)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n    let r = window.location.hash.substr(1).match(reg);\r\n    if (r != null) {\r\n        return decodeURIComponent(r[2]);\r\n    };\r\n    return null;\r\n  }\r\n\r\n  const flv_load = (val) => {\r\n    let method = getQueryString(\"method\");\r\n    let code = getQueryString(\"code\");\r\n    let authCode = getQueryString(\"authCode\");\r\n    if(!method || !code || !authCode){\r\n      return\r\n    }\r\n    var mediaDataSource = {\r\n      type: 'flv'\r\n    };\r\n    let videoUrl = API.flvURL+\"/live/\"+method+\"/\"+code+\"/\"+authCode+\".flv\";\r\n    mediaDataSource['url'] = videoUrl;\r\n    mediaDataSource['hasAudio'] = false;\r\n    mediaDataSource['isLive'] = true;\r\n    console.log('MediaDataSource', mediaDataSource);\r\n    flv_load_mds(mediaDataSource);\r\n  }\r\n\r\n  const flv_load_mds = (mediaDataSource) => {\r\n      var element = document.getElementsByClassName('centeredVideo')[0];\r\n    \r\n      if (typeof player !== \"undefined\") {\r\n          if (player != null) {\r\n              player.unload();\r\n              player.detachMediaElement();\r\n              player.destroy();\r\n              player = null;\r\n          }\r\n      }\r\n      \r\n      player = Flv.createPlayer(mediaDataSource, {\r\n          enableWorker: false,\r\n          lazyLoadMaxDuration: 3 * 60,\r\n          seekType: 'range',\r\n      });\r\n      player.attachMediaElement(element);\r\n      player.load();\r\n      player.play()\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <Button variant=\"contained\" onClick={flv_load}>\r\n              play\r\n            </Button>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              \r\n            </Typography>\r\n            {/* <Button autoFocus color=\"inherit\">\r\n              <CloseIcon />\r\n            </Button> */}\r\n          </Toolbar>\r\n        </AppBar>\r\n        <div className={classes.videoContainer}>\r\n            <div>\r\n                <video name=\"videoElement\" className=\"centeredVideo\" controls allow=\"autoPlay\" width=\"100%\" >\r\n                    Your browser is too old which doesn't support HTML5 video.\r\n                </video>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { memo } from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport CameraList from '../camera/cameraList';\r\nimport SignInSide from '../login/SignInSide';\r\nimport NoMatch from '../404/NoMatch';\r\nimport Live from '../camera/Live';\r\n\r\nfunction Routing(props) {\r\n    return (\r\n      <Switch>\r\n        <Route exact path=\"/\" component={CameraList} />\r\n        <Route exact path=\"/live\" component={Live} /> \r\n        <Route path=\"/login\" component={SignInSide} />\r\n        <Route component={NoMatch} />\r\n      </Switch>\r\n    );\r\n  }\r\n  \r\n  export default memo(Routing);\r\n","import { HashRouter } from \"react-router-dom\";\r\nimport Routing from './route/Routing';\r\n\r\nfunction Rtmp2flv() {\r\n  return (\r\n    <div>\r\n        <HashRouter>\r\n            <Routing/>\r\n        </HashRouter>\r\n    </div>\r\n  );\r\n} \r\n\r\nexport default Rtmp2flv;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Rtmp2flv from './Rtmp2flv';\n\nfunction App() {\n  return (\n    <Rtmp2flv />\n  );\n}\n\nReactDOM.render(<App />, document.querySelector('#app'));"],"sourceRoot":""}